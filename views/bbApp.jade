doctype html
html
  head
    meta(charset='UTF-8')
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css')
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css')
    link(href='http://fonts.googleapis.com/css?family=Courgette', rel='stylesheet', type='text/css')
    title Backbone
    style.
      .main {
        max-width: 500px;
      }
      .cursive {
        font-family: 'Courgette', cursive;
        text-shadow: 4px 4px 4px #aaa;
      }
      #todos .badge,
      .cursive {
        font-size: 22px;
      }
      .complete {
        color: #bbb;
        text-decoration: line-through;
      }
      .edit {
        display: none;
      }
      .editing .view {
        display: none;
      }
      .editing .edit {
        display: block;
      }
  body
    .main.container-fluid
      .row
        .panel.panel-info
          .panel-heading
            form(id='#new-form', action='/todos', method='post')
              .input-group
                // status checkbox
                span.input-group-addon
                  input(name='status', type='checkbox')
                // input
                input.form-control.cursive(name='description', type='text', placeholder='Enter ToDo...', autofocus='', autocomplete='off')
                // save button
                span.input-group-btn
                  button.btn.btn-success(type='submit') Save
          ul#todos.list-group Loading...
    script#todo-item-template(type='text/template').
      <div class="view">
      <span class="badge pull-left">{{id}}</span>&nbsp;&nbsp;
      <span class="description cursive {{#done}}complete{{/done}}">{{description}}</span>
      <a href="#" data-del-id="{{id}}" class="btn btn-danger btn-sm pull-right">
      <span class="glyphicon glyphicon-remove"></span>
      </a>
      <a href="#" data-done-id="{{id}}" class="btn btn-success btn-sm pull-right">
      <span class="glyphicon glyphicon-ok"></span>
      </a>
      </div>
      <input value="{{description}}" type="text" class="edit form-control cursive" autocomplete="off">
    script#todos-preloaded(type='text/x-data')!= todos
    // Scripts
    script(src='https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js')
    script(src='https://code.jquery.com/jquery-2.1.4.min.js')
    script(src='https://code.jquery.com/ui/1.11.4/jquery-ui.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.2.2/backbone-min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.1.3/mustache.min.js')
    script(src='client.js')
